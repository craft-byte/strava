<ion-content>
    <div class="app">
        <div class="flex-column">
            <div class="box">
                <div class="header">
                    <div class="title">
                        Strava
                    </div>
                    <div class="subtitle">
                        Log in
                    </div>
                </div>
                <form class="login" *ngIf="form" [formGroup]="form" (ngSubmit)="login()">
                    <div class="email">
                        <input type="email" formControlName="username" [class.ng-invalid]="ui.usernameMessage.length > 0" (focusout)="checkUsername()" (keydown.ENTER)="onEnter()" placeholder="Email address" id="email-input">
                        <div class="username-message" *ngIf="ui.usernameMessage.length > 0">
                            {{ ui.usernameMessage }}
                        </div>
                    </div>
                    <div class="password">
                        <input type="password" #passwordElement (focusout)="checkPassword()" [class.ng-invalid]="ui.passwordMessage.length > 0" formControlName="password" placeholder="Password" id="password-input">
                        <div class="password-message" *ngIf="ui.passwordMessage.length > 0">
                            {{ ui.passwordMessage }}
                        </div>
                    </div>
                    <div class="submit">
                        <button type="submit" [disabled]="ui.disableSubmit" id="submit" class="orange-button">
                            Log in
                        </button>
                    </div>
                    <div class="forgot">
                        <button class="only-text-button" (click)="forgot()">Forgot your password?</button>
                    </div>
                </form>
            </div>
            <div class="sign-in">
                <span class="wrap">
                    Don't have an account? <a routerLink="/registration">Sign up</a>
                </span>
            </div>
        </div>
    </div>
</ion-content>
